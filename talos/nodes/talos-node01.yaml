---
machine:
  type: controlplane
  install:
    diskSelector:
      type: nvme
    image: factory.talos.dev/installer/67fe4a7e1885b81b2d4b287ee0bff76702af194c05faa023bd1f2e493e2d7698:v1.11.1
  network:
    hostname: talos-node01
    interfaces:
    - deviceSelector:
        busPath: 0000:* # Ensure PCI deivces are selected
      mtu: 9000
      dhcp: true
      vlans:
      - {vlanId: 10, dhcp: false, mtu: 9000}
---
apiVersion: v1alpha1
kind: VolumeConfig
name: EPHEMERAL
provisioning:
  diskSelector:
    match: disk.transport == "nvme"
  maxSize: 250GiB
---
apiVersion: v1alpha1
kind: RawVolumeConfig
name: csi-data
provisioning:
  diskSelector:
    match: disk.transport == "nvme"
  minSize: 250GiB
  grow: true
---
apiVersion: v1alpha1
kind: WatchdogTimerConfig
device: /dev/watchdog0
timeout: 5m
