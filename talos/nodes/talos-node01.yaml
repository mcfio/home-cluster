---
machine:
  type: controlplane
  install:
    disk: /dev/sda
    image: factory.talos.dev/vmware-installer/1c70bdedf0afb9beb6e0bd7096845aab499c5d7d006fe0d4206580bf2f702505:v1.12.3
    # diskSelector:
    #   type: nvme
    # image: factory.talos.dev/metal-installer/67fe4a7e1885b81b2d4b287ee0bff76702af194c05faa023bd1f2e493e2d7698:v1.12.0
---
apiVersion: v1alpha1
kind: HostnameConfig
hostname: talos-node01
---
apiVersion: v1alpha1
kind: RawVolumeConfig
name: csi-data
provisioning:
  diskSelector:
    match: disk.transport == "vmw_pvscsi" && disk.size > 300u * GiB
  minSize: 250GiB
  grow: true
# ---
# apiVersion: v1alpha1
# kind: VolumeConfig
# name: EPHEMERAL
# provisioning:
#   diskSelector:
#     match: disk.transport == "nvme"
#   maxSize: 250GiB
# ---
# apiVersion: v1alpha1
# kind: RawVolumeConfig
# name: csi-data
# provisioning:
#   diskSelector:
#     match: disk.transport == "nvme"
#   minSize: 250GiB
#   grow: true
# ---
# apiVersion: v1alpha1
# kind: WatchdogTimerConfig
# device: /dev/watchdog0
# timeout: 5m
