version: v1alpha1
debug: false
persist: true
machine:
    type: worker
    token: ENC[AES256_GCM,data:NnJD7ZwOVBKfyglI9iYTQ35SMeFEkAA=,iv:o6+OQg7km0fTJq8tjaVhtr0fBLezcF8BmrRQqxjPYzQ=,tag:yja4azFnCuQA4FEn3UCwuw==,type:str]
    ca:
        crt: ENC[AES256_GCM,data:D4bSfJmhox0qY+CsX3ZO67860OE3OVSo32RTj9fIhvHwFjgFRbpA7WbJ43CA2MSzrajhGZ5fRtevSvDPUEzS/XmDkrLEG2QABbJ374aSqQlgOH8F4ZCCPV3AFNbZym8NaOPujaA4RbgKk6YkO6PUxwfv1H9wlR125bqfapzVpbd/rXB2q3LC1yjeNDi4dLKdB7dk5zt+LeZyhJElmb8yeddZlTQnjFrw84gducoREqdefR6nrfboQC2tkyM3C65hnKLK9VRpEHQ8oi0XFrf/gUMKKv1IT+sxmRJpgFpkYb1sActM0DtLuSdSU0UXcrBSwU1FQnWHtL/JN94I/IxtqX7yqILzsYdGEFD5rvNqfjSx8dG/PbMGT8hwKTuDQwqptz70z02K6y/P9UkkYv6UtutuQJy0gixzvzqB11YnW6QNlVhvp4rGTSX5bct/lww9be6jxDyXgyWTVkI79Sy5X/FZzKWif2WFH/uAOx12y5lwW+1V7lmtKcMAV8yCxZgrICh8d74rsKpc0ti0QWMNjhIyLpN8DD02hLIYpk82XATKnUOshkWHViqUae0QLT2Uk422U70vurw6Xz9aoK0mhdTFE1QHZ98/HSDaB7BgLvj7KpIYF+3/OW+kSgfjS89konMZ1UwWkfzeLNvmuShGjSDrCEdWrvFgl6tUQwRAa0PWMpBLcHLLsYN6Rb9HVSWt5RClQZrdnzHdMqHSKVCev84l1q10Z8/rQl0xqAYnCc10yGvfK42wWYrWB4gDAqOeNaw4jSoiuhFnqEDOOsP7kYw0c/R5X2lfjUPBZQjFFsMb7OlyjYRs0DPehnsEVNbgfC9Pxlr6uA8p2l6AXzKq/ZXeQaF1tgF3g0DlOfaZ+hSimtz6,iv:lrgP0TzwDNeLfyx2EuhMGYbdko/GEuNEFd026xnkOeQ=,tag:wJd89lBQjb0ndxd8qQVsgQ==,type:str]
        key: ""
    certSANs:
        - 192.168.45.40
        - home-cluster.milton.mcf.io
        - mcf-k8s-cluster.milton.mcf.io
    kubelet:
        image: ghcr.io/siderolabs/kubelet:${KUBERNETES_VERSION}
        extraArgs:
            rotate-server-certificates: "true"
        extraMounts:
            - destination: /var/openebs/local
              type: bind
              source: /var/openebs/local
              options:
                - bind
                - rshared
                - rw
        defaultRuntimeSeccompProfileEnabled: true
        nodeIP:
            validSubnets:
                - 192.168.45.0/24
        disableManifestsDirectory: true
    network:
        interfaces:
            - deviceSelector:
                hardwareAddr: bc:24:11:*
              mtu: 9000
              dhcp: true
        nameservers:
            - 192.168.30.1
        disableSearchDomain: true
    install:
        image: factory.talos.dev/installer/${TALOS_SCHEMATIC_ID}:${TALOS_VERSION}
        bootloader: true
        wipe: true
        diskSelector:
            busPath: /pci0000:00/0000:00:1e.0/0000:05:01.0/0000:06:0a.0/*
    files:
        - content: |-
            [ NFSMount_Global_Options ]
            nfsvers=4.2
            hard=True
            noatime=True
            nodiratime=True
            rsize=131072
            wsize=131072
            nconnect=8
          permissions: 420
          path: /etc/nfsmount.conf
          op: overwrite
    sysctls:
        vm.nr_hugepages: "1024"
    registries: {}
    features:
        rbac: true
        stableHostname: true
        apidCheckExtKeyUsage: true
        kubePrism:
            enabled: true
            port: 7445
        hostDNS:
            enabled: true
            resolveMemberNames: true
            forwardKubeDNSToHost: false
    nodeLabels:
        topology.kubernetes.io/region: milton
        topology.kubernetes.io/zone: home-cluster
cluster:
    id: ENC[AES256_GCM,data:k+3ErzXmpk9Me4gb3lig/5cqoMgHT9KJaS3Si2ahU+3t4Rh3SHpvt4uNGSM=,iv:G7PDyWJ0rQYe2m2mj2QWmu6SzItvfrdWCkJvwUeGjeM=,tag:NtEL91mAqfUg+Q7t0bVE5w==,type:str]
    secret: ENC[AES256_GCM,data:9Ynj1CPOZRpw42fmakf/lDnb2+v/oOJeecwoUiJEFTDUjvfiv9I8bdkFqog=,iv:KxhdDUlDdcbs5LsTO8czryvqoyBEkO/ZtvOLRyqPYuw=,tag:VH6s1rRlBfdcIg0HADaGpQ==,type:str]
    controlPlane:
        endpoint: https://192.168.45.40:6443
    network:
        cni:
            name: none
        dnsDomain: cluster.local
        podSubnets:
            - 10.244.0.0/18
        serviceSubnets:
            - 10.244.64.0/20
    token: ENC[AES256_GCM,data:bLTrpZVz9jnKbUu7YmIxlypMH/xOWVQ=,iv:LjswHUxhlMh/qtmvVkpj2NlFaA+k6UF22LpFzI4GFak=,tag:AVM7svna6/yXz9zYP71cGQ==,type:str]
    ca:
        crt: ENC[AES256_GCM,data:aVpS0R1UtO4eKSMLTyVZ0BjVDkDt21LKD5Mb0CkxkHM2uuH/VWnrYPeM2H1iP/oos6A61Md7NWMJH7t2Mcuusm+wS8fXbGGzbzuTnz50gqZ1lYUqhtM4g20tF7ul9ZBcphTJcBvDyY42M4H0P73J4ka0usbfVp7rvQFpCylaapngWSNO5HE9miI4opg/JMl3K8NdwLpnVteEIwoYPz6BdL696DMGXVqdbDFABnq180tFGwBkUJzPNdII92ks45pb/AESOTiwes024oQD2+uO+xBFJfyCOeX4YJcoP2IkbqoOTY/zIzcsnEiN/k9Fhlg2TCfC1W9v9t2AmM+2AokhwXfNjbmffNX8NcSBCekhL/B0kJRhkPVqibBA6MKsu3sCwRjpCN+ROETiLBHm9vnvBMO+KHegsgWueqMfT/11iNe8BRloDuDI8Q4FJ7lb4T45FtNRpNmgvQRYGsAwMehy+2RaxfPuxpu18CTIYaHs6tMSv0PcPp6avufUPwICulCLXSD2w4NEuTPKt+tTIO+al+uG/fjed0yYc7p6gTZb5VeuGJUrspue3Umiiu9ClEzLEr/sq7oCE1WZ5z4ST1Q4TLMgd2qx7DzW9YQGxTYZMxGcObs2w9M8pwQpEifAWdpZHPGouiGmQB0UwPo7w6cqLUJ1/X1IRv+CLLsYSra3AnFv3ZhjSOY193WNi25qtQxpi0ZOjLAn8aKRLsO6tZ+tw1cfnxsduzAiuAHOg1s62CB0STGDUT6J+ATBPuW6do+f/Da21Y7j3Kd2t+pavmJ3mis+BD2xcwXZQFvT/sUDf4sDCxz3XfLA9iPK1AaSZOi0He+k8SK5C4HtUpVrnVyo5MtxSl1nERMLjj67XFQxZuuWdhKxxIR5hRH9hNO34l0MdMFyGWPIR9fPDDlJdb/T+CiNXQdnR7jALMkGLpuozLndnRv3CKMywmtZnjrjZHFNykA6A95XAhA5P39u8LJ9zOGlC+vYf/6OKzrpD2V61eYb+NKqq1XxGkdE2wgvqKyiu8voxItsZlObh+6k05xHIulDkdr75X5KwLmiJQ==,iv:AhTvMGZUZkqxDMt9tLzos5FN1RT/Ng53hPpfMy75eFM=,tag:R/l7kkU/ej3HGg1NOaMyiQ==,type:str]
        key: ""
    proxy:
        disabled: true
    discovery:
        enabled: true
        registries:
            kubernetes:
                disabled: false
            service:
                disabled: true
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age13g8vu0uypup5ulq059xrs0gh4nkecvhhpkqmjdp3gpuc4w8q9c4sjys65q
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSAwd2VFOHRWUTlkejBkeVhY
            VUpoZWkyYU4yY0I4Q01EL3hPNUEvZHl0U1NBCnJodDFIWGlLZEVUQ1RONUxCY1M2
            TEo3SWlHeWp2dGdGOGJZZG1GR1hkUUUKLS0tIEQrdk54UzN4WEpTSVJxVmhUaUtk
            amd4RFNBdGtYMXZqYkE1TmpyVytsYU0K+up5tkpx1eH/zhNeWbdeXHhcPg3UcJhO
            aAukwlTeOi1FjKBsjmSUPut7CSnq+D0ui6b/Cji/CAZ7JzDkvi3CQw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-06-15T17:44:15Z"
    mac: ENC[AES256_GCM,data:SgtVy+GeFvc74R2ABbdcUm1/t64/Lz8EHyjDSiomyenN71Vy5O0jAVaz0PHOj1ymsldbQVReIXAunbH36/Kjh1L0gD1oZH8OJiwvo8GmH4sSgfzM67r//yroF2EBmtc2Rn468xqhnui3vtJzUNYnwdcZ0CKytfM+jX76u1aiLSg=,iv:FpojejYDfuuBlwlCwwT7E7TsdFjJ9FJdvT55gcBMgWA=,tag:fvLZd74kyHPT9/G2zNvTxA==,type:str]
    pgp: []
    encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
    version: 3.8.1
